
<!doctype html>
<html>
<head>
<title>Timemark Editor</title>
<meta charset="utf-8"/ >
<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://mess20.github.io/slush/timelapse.css" rel="stylesheet">
<script src="https://mess20.github.io/slush/js/child-animation.js"></script>    
  
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>    


<style>
*{
overflow:auto;
outline-color:#A6FFFF;
}
#content,#input{
outline:none;
}
#input:hover{	
box-shadow: 5px 0 10px 0 rgba(166, 255, 255, 0.9);
z-index:1;
}
botton:hover{
background:#888;
}
</style>
</head>


<body>



<div style="position:fixed;left:0;right:50%;padding:5rem 2.2rem;height:100%;background:#444;font-size:2rem;color:#F4F4F4;" > 
<b>Example</b><br>
<div id="input" onkeyup="timemark()" contenteditable="true">
- 标题<br>
# 一级标题 <br>
## 二级标题<br>

- **分割线**<br>
---<br>

- 重点<br>
【重点】<br>

- **特殊**<br>
（特殊）<br>
「插入」｛插入内容，选填。｝<br>
“强调”<br>

- 链接<br>
https://restrechinamynd.github.io/all.css<br>

- 参考<br>
- https://restrechinamynd.github.io/timepalse<br>
-  https://restrechinamynd.github.io/new<br>
- https://restrechinamynd.github.io/all.css<br>
</div>
</div>

<div style="padding:5rem 1rem;left:50%;font-size:2.5rem;background:#F7F8FA;position:fixed;right:0;height:100%;">
<b>Pre</b><br>
<div id="output">
</div>
</div>



<button style="position:fixed;left:35%;right:35%;width:30%;height:80px;z-index:1;border:none;background:white;border-radius:0 0 20px 20px;	-webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);font-size :2.4rem;color:#333;font-family:serif;" onclick="getCode()">code</button>


<textarea id="code" style="opacity:0;position:fixed;top:100%;z-index:1">
</textarea>

<script>
function getCode(){
var code = document.getElementById("code");
var e = document.getElementById("output").innerHTML;
code.innerText = e.replace(new RegExp('contenteditable="true"', "g"), '');
code.select();
document.execCommand("Copy");
} 
</script>


<script>
function timemark(){
var t = document.getElementById("input").innerHTML;
document.getElementById("output").innerHTML=t
//代码
.replace(new RegExp('“' , "g"), '<textarea>')
.replace(new RegExp('”' , "g"), '</textarea>')
.replace(new RegExp('‘' , "g"), '<blockquote>')
.replace(new RegExp('’' , "g"), '</blockquote>')
//分割线
.replace(new RegExp('---' , "g"), '<hr>')
//分点
.replace(new RegExp('‹' , "g"), '<div style="display:flex;margin:4rem 0;"><div style="background-color: rgb(31, 73, 125); color: rgb(255, 255, 255);padding:0rem 1.4rem;margin:0.5rem 2rem 0.5rem 0;height:4rem;width:auto;line-height:4rem;align-items:center;font-size:2.4rem;">')
.replace(new RegExp('›' , "g"),'</div>')
.replace(new RegExp('«' , "g"), '<div style="color: rgb(51,51, 51);font-size:3rem;">')
.replace(new RegExp('»' , "g"), '</div></div>')
//强调
.replace(new RegExp('【' , "g"), '<l>')
.replace(new RegExp('】' , "g"), '</l>')
//特殊
.replace(new RegExp('！（' , "g"), '<span style="color:rgba(199,77,70,100%);">')
.replace(new RegExp('）' , "g"), '</span>')
.replace(new RegExp('（' , "g"), '<n>')
.replace(new RegExp('）' , "g"), '</n>')
//dfn
.replace(new RegExp('「' , "g"), '<dfn>')
.replace(new RegExp('」' , "g"), '<note>')
.replace(new RegExp('｛' , "g"), '')
.replace(new RegExp('｝' , "g"), '</note></dfn>')
//文献
.replace(new RegExp('〔' , "g"), '<dfn class="reference-index"><span>')
.replace(new RegExp('〕' , "g"),'</span></dfn>');
var t = document.getElementById("output").innerHTML;
document.getElementById("output").innerHTML=marked(t);
}

</script>

<script>
var t = document.getElementById("input").innerHTML;
document.getElementById("output").innerHTML=t
//代码
.replace(new RegExp('“' , "g"), '<textarea>')
.replace(new RegExp('”' , "g"), '</textarea>')
.replace(new RegExp('‘' , "g"), '<blockquote>')
.replace(new RegExp('’' , "g"), '</blockquote>')
//分割线
.replace(new RegExp('---' , "g"), '<hr>')
//分点
.replace(new RegExp('‹' , "g"), '<div style="display:flex;margin:4rem 0;"><div style="background-color: rgb(31, 73, 125); color: rgb(255, 255, 255);padding:0rem 1.4rem;margin:0.5rem 2rem 0.5rem 0;height:4rem;width:auto;line-height:4rem;align-items:center;font-size:2.4rem;">')
.replace(new RegExp('›' , "g"),'</div>')
.replace(new RegExp('«' , "g"), '<div style="color: rgb(51,51, 51);font-size:3rem;">')
.replace(new RegExp('»' , "g"), '</div></div>')
//强调
.replace(new RegExp('【' , "g"), '<l>')
.replace(new RegExp('】' , "g"), '</l>')
//特殊
.replace(new RegExp('！（' , "g"), '<span style="color:rgba(199,77,70,100%);">')
.replace(new RegExp('）' , "g"), '</span>')
.replace(new RegExp('（' , "g"), '<n>')
.replace(new RegExp('）' , "g"), '</n>')
//dfn
.replace(new RegExp('「' , "g"), '<dfn>')
.replace(new RegExp('」' , "g"), '<note>')
.replace(new RegExp('｛' , "g"), '')
.replace(new RegExp('｝' , "g"), '</note></dfn>')
//文献
.replace(new RegExp('〔' , "g"), '<dfn class="reference-index"><span>')
.replace(new RegExp('〕' , "g"),'</span></dfn>');

var t = document.getElementById("output").innerHTML;
document.getElementById("output").innerHTML=marked(t);
</script>



	




</body>
</html>
